<!DOCTYPE html>
<html>
<head>
    <title>RGB Color Picker</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #colorPreview { width: 200px; height: 200px; margin: 20px auto; border: 1px solid #000; }
    </style>
</head>
<body>
    <h1>Select an RGB Color</h1>
    <input type="color" id="colorPicker" value="#ff0000">
    <div id="colorPreview" style="background-color: #ff0000;"></div>
    <button onclick="sendColor()">Send to ESP32</button>

    <script>
        const colorPicker = document.getElementById('colorPicker');
        const colorPreview = document.getElementById('colorPreview');

        colorPicker.addEventListener('input', function() {
            colorPreview.style.backgroundColor = this.value;
        });

        function sendColor() {
            const hexColor = colorPicker.value;
            const rgbColor = hexToRgb(hexColor);
            const rgbString = `${rgbColor.r},${rgbColor.g},${rgbColor.b}`;

            // Send the RGB value to your ESP32
            fetch('YOUR_ESP32_ENDPOINT', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ rgb: rgbString })
            })
            .then(response => alert('Color sent to ESP32!'))
            .catch(error => alert('Error sending color.'));
        }

        function hexToRgb(hex) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return { r, g, b };
        }
    </script>
</body>
</html>
